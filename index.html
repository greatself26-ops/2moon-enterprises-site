<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2 Moon Enterprises | Fundraiser</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background: #0d0d0d;
      color: #f5f5f5;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }

    header {
      text-align: center;
      padding: 2rem 1rem 1rem;
    }

    .logo {
      display: block;
      margin: 0 auto 1rem;
      max-width: 220px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(255,165,0,0.4);
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.4rem;
      color: #fbbf24;
    }

    .tagline {
      font-size: 1.1rem;
      color: #ddd;
      margin-bottom: 2rem;
    }

    section {
      padding: 1.5rem 1rem;
      max-width: 900px;
      margin: auto;
    }

    h2 {
      color: #fbbf24;
      border-left: 5px solid #f97316;
      padding-left: 10px;
    }

    /* Progress bar */
    .progress-container {
      background: #1a1a1a;
      padding: 2rem 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 2px 20px rgba(255,165,0,0.15);
      text-align: center;
      margin-bottom: 2rem;
    }

    .progress-bar-bg {
      width: 100%;
      height: 30px;
      background: #333;
      border-radius: 30px;
      overflow: hidden;
      margin-top: 10px;
      position: relative;
    }

    .progress-bar-fill {
      height: 30px;
      width: 0%;
      background: linear-gradient(90deg, #fbbf24, #f97316);
      border-radius: 30px;
      transition: width 1.2s ease-in-out;
      box-shadow: 0 0 10px rgba(255,174,0,0.4);
    }

    /* Razorpay button near progress */
    .pay-button {
      margin-top: 20px;
    }

    .razorpay-payment-button {
      background: linear-gradient(90deg,#fbbf24,#f97316) !important;
      color: #fff !important;
      border: none !important;
      padding: 0.8rem 1.4rem !important;
      border-radius: 50px !important;
      font-weight: 600 !important;
      box-shadow: 0 0 10px rgba(249,115,22,0.4);
      cursor: pointer;
      transition: 0.3s;
    }

    .razorpay-payment-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 15px rgba(255,174,0,0.6);
    }

    /* Services grid */
    .services {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      text-align: center;
      margin-top: 1rem;
    }

    .service-card {
      background: #1a1a1a;
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 2px 10px rgba(255,165,0,0.08);
      transition: 0.3s;
    }

    .service-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 20px rgba(255,165,0,0.15);
    }

    .service-card h3 {
      color: #fbbf24;
      margin-bottom: 0.6rem;
    }

    footer {
      text-align: center;
      padding: 2rem 1rem;
      font-size: 0.9rem;
      background: #111;
      color: #aaa;
    }

    @media (max-width: 600px) {
      h1 { font-size: 1.5rem; }
      .progress-container { padding: 1.2rem; }
      .service-card { padding: 1rem; }
    }
  </style>
</head>

<body>
  <header>
    <img src="logo-tagline.jpg" alt="2 Moon Enterprises Logo" class="logo" />
    <h1>2 Moon Enterprises</h1>
    <p class="tagline">We Focus on Growth</p>
  </header>

  <!-- PROGRESS SECTION -->
  <section class="progress-container">
    <h2>Your Trust, Our Progress</h2>
    <p>Every contribution brings us closer to our shared vision.</p>
    <div id="progress-text">Loading data...</div>
    <div class="progress-bar-bg"><div id="progress-bar" class="progress-bar-fill"></div></div>
    <div id="progress-percent" style="margin-top:8px;font-weight:600;"></div>
    <div id="last-updated" style="font-size:0.85rem;color:#888;margin-top:4px;"></div>

    <!-- Razorpay Button -->
    <div class="pay-button">
      <form>
        <script src="https://checkout.razorpay.com/v1/payment-button.js"
                data-payment_button_id="pl_RbMaMRMZ46EBFI"
                async>
        </script>
      </form>
    </div>
  </section>

  <!-- TRANSPARENCY SECTION (moved here) -->
  <section>
    <h2>Promise of Transparency & Purpose</h2>
    <p>
      At 2 Moon Enterprises, we are committed to honesty, growth, and community value.<br/>
      Every rupee raised will be used solely for business operations, service expansion, and sustainability initiatives.<br/>
      All supporters and investors will receive periodic progress updates and transparent reporting.
    </p>
  </section>

  <!-- ABOUT SECTION -->
  <section>
    <h2>About Our Mission</h2>
    <p>
      2 Moon Enterprises is dedicated to building sustainable ventures that bring value to individuals and communities alike.
      Our goal is to raise ‚Çπ1 Crore to expand our core services and create meaningful opportunities.
    </p>
  </section>

  <!-- SERVICES SECTION -->
  <section>
    <h2>Our Products & Services</h2>
    <div class="services">
      <div class="service-card">
        <h3>üöó Car Wash at Your Doorstep</h3>
        <p>Convenient car care services available at your home or office.</p>
      </div>
      <div class="service-card">
        <h3>üåæ Agri Trade Solutions</h3>
        <p>Empowering farmers and traders with transparent agri-market connections.</p>
      </div>
      <div class="service-card">
        <h3>üéì Career Support & Mentoring</h3>
        <p>Guiding youth with skills, training, and career growth opportunities.</p>
      </div>
      <div class="service-card">
        <h3>üíº Business Development</h3>
        <p>Helping startups and MSMEs grow sustainably through expert advice.</p>
      </div>
      <div class="service-card">
        <h3>üõ†Ô∏è Coming Soon</h3>
        <p>More innovative services are on the way ‚Äî stay tuned!</p>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>üìç Neyveli T.S<br/>üìû Kabilan Natarajan ‚Äì Manager | 9789246419<br/>‚úâÔ∏è greatself26@gmail.com</p>
  </footer>

  <!-- PROGRESS FETCH SCRIPT -->
  <script>
    const SHEET_URL =
      "https://docs.google.com/spreadsheets/d/e/2PACX-1vQPCkqMgNLdROU4Fm2JYpAnF4w9dQKQ_FXbAnkNBMGf9vbxRGsisMdJvsJI_92JeBzW6kZOisNIAWzl/pub?output=csv";
    const FUNDING_GOAL = 10000000; // ‚Çπ1 Crore
    let displayedTotal = 0;

    async function fetchFundingData() {
      try {
        const res = await fetch(SHEET_URL, { mode: "cors", cache: "no-cache" });
        const txt = await res.text();
        const rows = txt.split(/\r?\n/).map(r => r.split(','));
        const header = rows[0].map(h => h.trim().replace(/\"/g, ""));
        const amountIndex = header.findIndex(h => h.toLowerCase().includes("amount supported"));
        let total = 0;
        for (let i = 1; i < rows.length; i++) {
          const val = parseFloat(rows[i][amountIndex]?.replace(/[^0-9.]/g, "")) || 0;
          total += val;
        }
        updateProgress(total);
      } catch (err) {
        document.getElementById("progress-text").innerText = "Unable to load funding data.";
      }
    }

    function updateProgress(total) {
      const percent = Math.min((total / FUNDING_GOAL) * 100, 100);
      const bar = document.getElementById("progress-bar");
      const text = document.getElementById("progress-text");
      const pct = document.getElementById("progress-percent");
      const updated = document.getElementById("last-updated");

      bar.style.width = percent.toFixed(2) + "%";
      text.innerText = `‚Çπ${Math.floor(total).toLocaleString("en-IN")} raised of ‚Çπ${FUNDING_GOAL.toLocaleString("en-IN")} goal`;
      pct.innerText = `${percent.toFixed(2)}% funded`;
      updated.innerText = "Last updated: " + new Date().toLocaleString();
    }

    fetchFundingData();
    setInterval(fetchFundingData, 60000);
  </script>
</body>
</html>
